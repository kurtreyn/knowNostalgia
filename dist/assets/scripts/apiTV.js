"use strict";const tvSearchBox=document.querySelector("#tv-title"),searchListTV=document.querySelector("#search-list-tv"),resultGridTV=document.querySelector("#result-grid-tv");let tvPoster;function loadTvShow(e){fetch(`https://omdbapi.com/?s=${e}&page=1&apikey=99e6a288`,{method:"GET"}).then((e=>e.json())).then((e=>{"True"===e.Response&&displayTVList(e.Search)})).catch((e=>{console.error(e)}))}function findTvShow(){let e=tvSearchBox.value.trim();e.length>0?(searchListTV.classList.remove("hide-search-list"),loadTvShow(e)):searchListTV.classList.add("hide-search-list")}function displayTVList(e){searchListTV.innerHTML="";for(let t=0;t<e.length;t++){let s=document.createElement("div");s.dataset.id=e[t].imdbID,s.classList.add("search-list-item"),tvPoster="N/A"!=e[t].Poster?e[t].Poster:"../assets/images/image_not_found.png";let i=e[t].Year,a=e[t].Type;i>="1990"&&i<="2009"&&"series"===a?(s.innerHTML=`\n      <div class="search-list-item">\n      <div class="search-item-thumbnail">\n        <img src="${tvPoster}" />\n      </div>\n    </div>\n      `,searchListTV.appendChild(s)):s.innerHTML="../assets/images/image_not_found.png"}loadTVDetails()}function loadTVDetails(){searchListTV.querySelectorAll(".search-list-item").forEach((e=>{e.addEventListener("click",(async()=>{searchListTV.classList.add("hide-search-list"),tvSearchBox.value="";const t=await fetch(`https://www.omdbapi.com/?i=${e.dataset.id}&apikey=99e6a288`),s=await t.json(),i=s.Year;i>="1990"&&i<="2009"?displayTVDetails(s):resultGridTV.innerText="TV Show was not released between 1990 - 2009"}))}))}function displayTVDetails(e){resultGridTV.innerHTML=`\n  <div class="movie-poster">\n  <img\n    src="${"N/A"!=e.Poster?e.Poster:"../assets/images/image_not_found.png"}"\n    alt="movie poster"\n  />\n</div>\n<div class="movie-info">\n  <h3 class="movie-title">${e.Title}</h3>\n  <ul class="movie-misc-info">\n    <li class="year">Year: ${e.Year}</li>\n  </ul>\n  <p class="plot">\n    <b>Plot:</b> ${e.Plot}\n  </p>\n</div>\n  `}tvSearchBox.addEventListener("keyup",findTvShow);