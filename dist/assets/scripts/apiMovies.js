"use strict";const movieSearchBox=document.querySelector("#movie-title"),searchList=document.getElementById("search-list"),resultGrid=document.getElementById("result-grid");let moviePoster;async function loadMovies(e){const i=`https://omdbapi.com/?s=${e}&page=1&apikey=99e6a288`,s=await fetch(`${i}`),t=await s.json();"True"===t.Response&&displayMovieList(t.Search)}function findMovies(){let e=movieSearchBox.value.trim();e.length>0?(searchList.classList.remove("hide-search-list"),loadMovies(e)):searchList.classList.add("hide-search-list")}function displayMovieList(e){searchList.innerHTML="";for(let i=0;i<e.length;i++){let s=document.createElement("div");s.dataset.id=e[i].imdbID,s.classList.add("search-list-item"),moviePoster="N/A"!=e[i].Poster?e[i].Poster:"../assets/images/image_not_found.png";let t=e[i].Year,a=e[i].Type;t>="1990"&&t<="2009"&&"movie"===a?(s.innerHTML=`\n      <div class="search-list-item">\n      <div class="search-item-thumbnail">\n        <img src="${moviePoster}" />\n      </div>\n    </div>\n      `,searchList.appendChild(s)):s.innerHTML="'../assets/images/image_not_found.png'"}loadMovieDetails()}function loadMovieDetails(){searchList.querySelectorAll(".search-list-item").forEach((e=>{e.addEventListener("click",(async()=>{searchList.classList.add("hide-search-list"),movieSearchBox.value="";const i=await fetch(`https://www.omdbapi.com/?i=${e.dataset.id}&apikey=99e6a288`),s=await i.json(),t=s.Year;t>="1990"&&t<="2009"?displayMovieDetails(s):resultGrid.innerText="Movie was not released between 1990 - 2009"}))}))}function displayMovieDetails(e){resultGrid.innerHTML=`\n  <div class="movie-poster">\n  <img\n    src="${"N/A"!=e.Poster?e.Poster:"../assets/images/image_not_found.png"}"\n    alt="movie poster"\n  />\n</div>\n<div class="movie-info">\n  <h3 class="movie-title">${e.Title}</h3>\n  <ul class="movie-misc-info">\n    <li class="year">Year: ${e.Year}</li>\n  </ul>\n  <p class="plot">\n    <b>Plot:</b> ${e.Plot}\n  </p>\n</div>\n  `}movieSearchBox.addEventListener("keyup",findMovies);